Bootstrap login form


  def create_new_comment(user, comment_attrs)
    attrs = comment_attrs.to_h
    attrs[:commenter_id] = user.id
    comments.create(attrs)
  end


timeline has @comment in controller to build possible comment. okay to use that instance var in form partial? or use Comment.new*(current)

better way to determine parent of like (likes helper)

Unjankify friendings helper friend button


get this to work, _photo.html.erb
<%# if current_user.friends_with?(user) %>
  <%#= wrap_with_link(photo_partial(photo)) %>
<%# else %>
  <%#= photo_partial(limit: 4) %>
<%# end %>



================

PSEUDOCODE


likeable has likes - keep count

like belongs to liker, classname user,
     belongs to likeable, polymorphic

user has many likes, foreignk liker_id
     has many liked_posts, through likes, source :post

post has many likes, as likeable, polymorphic
     has many likers, through likes, source users


user.like(likeable) -> likeable.increase_likes -> lkb.likes.create(user)
user.unlike(likeable) -> likeable.decrease_likes -> lkb.likes.destroy(user)
